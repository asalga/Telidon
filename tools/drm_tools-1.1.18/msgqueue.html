<html><head><title>Manual Page - msgqueue(1)</title></head><body alink="#ff0000" bgcolor="#f0f0f0" link="#0000ff" text="#000000" vlink="#c000c0"><a name="top"></a>
<!-- .TH "msgqueue" "1" "1.0.2 OCT 23 2006" "drm_tools" "User Commands" -->
<center>
<h1><hr><i>Manual Reference Pages &nbsp;-&nbsp;</i><nobr>msgqueue (1)</nobr><hr></h1>
</center>
<p>
<!-- .SH NAME -->
<a name="0">

     <h3>NAME</h3>

</a>
</p><blockquote>
<p>
</p><p>
msgqueue - message queue utility
</p><p>
<!-- .SH SYNOPSIS -->
</p></blockquote>
<a name="contents"></a><h3>CONTENTS</h3>
<blockquote>
<a href="#1">Synopsis</a><br>
<a href="#2">Description</a><br>
<a href="#3">Options</a><br>
<a href="#4">Examples</a><br>
<a href="#5">See Also</a><br>
<a href="#6">License</a><br>
<a href="#7">Copyright</a><br>
<a href="#8">Acknowledgements</a><br>
<a href="#9">Authors</a><br>
</blockquote>
<a name="10">

     <h3>SYNOPSIS</h3>

</a>
<blockquote>
<p>
<!-- .B msgqueue [options...]  -->
<b>msgqueue [options...]</b> </p><p>
<!-- .SH DESCRIPTION -->
</p></blockquote>
<a name="2">

     <h3>DESCRIPTION</h3>

</a>
<blockquote>
<p>
<!-- .B msgqueue -->
<b>msgqueue</b> is a command line utility that permits message
queues to be created, removed, queried, or modified.  Each queue
is identified by a unique key.  Messages may be written and
read from these queues.  An integer type associated with messages
allows some control over the order in which messages are
read from the queue.  Queue access is restricted by a mask
similar to that used in the Unix file system.
</p><p>
<!-- .B msgqueue -->
<b>msgqueue</b> may be obtained as part of the
<!-- .B drm_tools -->
<b>drm_tools</b> package from:
<!-- .B http://sourceforge.net/projects/drmtools/ -->
<b><a href="http://sourceforge.net/projects/drmtools/">http://sourceforge.net/projects/drmtools/</a></b> </p><p>
</p><p>
<!-- .SH OPTIONS -->
</p></blockquote>
<a name="3">

     <h3>OPTIONS</h3>

</a>
<blockquote>
<p>
<!-- .TP -->
<table cellpadding="3">
<tbody><tr valign="top"><td colspan="2">
<!-- .B -c,-create -->
<b>-c,-create</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Create a message queue. 
Requires
<!-- .BI -key " <KEYVAL>" -->
<b>-key</b><i> &lt;KEYVAL&gt;</i> and
<!-- .BI -mask " <MASK>". -->
<b>-mask</b><i> &lt;MASK&gt;</i><b>.</b> The queue will be owned by the person who created it.
<p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -r,-remove -->
<b>-r,-remove</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Remove the message queue.
Requires
<!-- .BI -key " <KEYVAL>". -->
<b>-key</b><i> &lt;KEYVAL&gt;</i><b>.</b> <p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -n,-info -->
<b>-n,-info</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Show information about the message queue. 
Requires
<!-- .BI -key " <KEYVAL>". -->
<b>-key</b><i> &lt;KEYVAL&gt;</i><b>.</b> <p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -s,-send -->
<b>-s,-send</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Send the input from stdin as a message to the queue.
Requires
<!-- .BI -key " <KEYVAL>" -->
<b>-key</b><i> &lt;KEYVAL&gt;</i> ;
<!-- .BI -lock " <KEYVAL>" -->
<b>-lock</b><i> &lt;KEYVAL&gt;</i> and
<!-- .BI -type " <TYPEVAL>" -->
<b>-type</b><i> &lt;TYPEVAL&gt;</i> are optional.
<p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .BI -t,-text " <message>" -->
<b>-t,-text</b><i> &lt;message&gt;</i> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Modifies
<!-- .B -send. -->
<b>-send.</b> Sends
<!-- .B <message> -->
<b>&lt;message&gt;</b> instead of
<!-- .B stdin. -->
<b>stdin.</b> <p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -d,-guided -->
<b>-d,-guided</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Modifies
<!-- .B -send.  -->
<b>-send.</b> Each line read from
<!-- .B stdin -->
<b>stdin</b> is expected
to have the format:
<!-- .B KEYVAL TYPEVAL MSG. -->
<b>KEYVAL TYPEVAL MSG.</b> The message
<!-- .B MSG -->
<b>MSG</b> is sent to the queue indicated by the decimal integer
<!-- .B KEYVAL -->
<b>KEYVAL</b> with integer type
<!-- .B TYPEVAL. -->
<b>TYPEVAL.</b> An
<!-- .B EOF -->
<b>EOF</b> read from
<!-- .B stdin -->
<b>stdin</b> causes the program to exit.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -g,-get -->
<b>-g,-get</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Get the next message from the queue and send it to stdout.
Requires
<!-- .BI -key " <KEYVAL>" -->
<b>-key</b><i> &lt;KEYVAL&gt;</i> ;
<!-- .BI -lock " <KEYVAL>" -->
<b>-lock</b><i> &lt;KEYVAL&gt;</i> and
<!-- .BI -type " <TYPEVAL>" -->
<b>-type</b><i> &lt;TYPEVAL&gt;</i> are optional. 
<p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td nowrap="nowrap" width="6%">
<!-- .B -next -->
<b>-next</b> </td><td valign="bottom">
Default mode for
<!-- .B -get. -->
<b>-get.</b> Reads the next message without regard to
<!-- .BI -type " <TYPEVAL>". -->
<b>-type</b><i> &lt;TYPEVAL&gt;</i><b>.</b> <p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td nowrap="nowrap" width="6%">
<!-- .B -match -->
<b>-match</b> </td><td valign="bottom">
Alternate mode for
<!-- .B -get.  -->
<b>-get.</b> Reads the next message which matches
<!-- .BI -type " <TYPEVAL>".   -->
<b>-type</b><i> &lt;TYPEVAL&gt;</i><b>.</b> <p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -except -->
<b>-except</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Alternate mode for
<!-- .B -get. -->
<b>-get.</b> Reads the next message which does not match
<!-- .BI -type " <TYPEVAL>".   -->
<b>-type</b><i> &lt;TYPEVAL&gt;</i><b>.</b> <p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .BI -modify " <Qbytes>" -->
<b>-modify</b><i> &lt;Qbytes&gt;</i> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Modifies the specified queue so that it can hold
<!-- .B <Qbytes> -->
<b>&lt;Qbytes&gt;</b> bytes of message.  This mode only works for the superuser.
Requires
<!-- .BI -key " <KEYVAL>" -->
<b>-key</b><i> &lt;KEYVAL&gt;</i> and
<!-- .BI -mask " <MASKVAL>".  -->
<b>-mask</b><i> &lt;MASKVAL&gt;</i><b>.</b> <p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -n,info -->
<b>-n,info</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Write information about the specified queue to stdout. 
Requires
<!-- .BI -key " <KEYVAL>".  -->
<b>-key</b><i> &lt;KEYVAL&gt;</i><b>.</b> <p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .BI -y,-type " <TYPEVAL>" -->
<b>-y,-type</b><i> &lt;TYPEVAL&gt;</i> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Specifies the integer type of a message.  This value is used with
the
<!-- .B -get -->
<b>-get</b> command to control message retrieval.  Defaults to 1
if not specified explicitly.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .BI -m,-mask " <MASKVAL>" -->
<b>-m,-mask</b><i> &lt;MASKVAL&gt;</i> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Specifies the octal protection mask for the queue, analogous to
the protection mask on a Unix file.  For instance, 666 allows
everybody  read and write access to the message queue.
<p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -mm,-maxm -->
<b>-mm,-maxm</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Experimentally determines the largest message which may be written
to a message queue.  Requires
<!-- .BI -key " <KEYVAL>" -->
<b>-key</b><i> &lt;KEYVAL&gt;</i> which must specify
an existing, empty, message queue.  The result is written to stdout.
This value is highly platform dependent.
<p>
</p><p>
</p><p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .BI -k[x],-key[x] " <KEYVAL>" -->
<b>-k[x],-key[x]</b><i> &lt;KEYVAL&gt;</i> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Specifies the integer key which determines the queue to act upon.
This flag is mandatory with most modes of this program.  The [x]
variants expect a hexadecimal value, the regular variants a decimal
value.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -l,-lock -->
<b>-l,-lock</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Modifies the behavior of
<!-- .B -get -->
<b>-get</b> and
<!-- .B -send. -->
<b>-send.</b> Normally these
execute without waiting for notification of completion.  This
allows msgqueue to be used in a polling mode.  If this flag is
employed the program will lock until the action completes.  For
instance, when reading from a queue, it will wait forever for the
next message to appear.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B -h -help --help -? --?? -->
<b>-h -help --help -? --??</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Print the help message. (Default - do not print help message.)
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td nowrap="nowrap" width="6%">
<!-- .B -i -->
<b>-i</b> </td><td valign="bottom">
Emit version, copyright, license and contact information.( Default - do not emit information.)
<p>
</p><p>
<!-- .SH EXAMPLES -->
</p></td></tr>
<tr></tr></tbody></table></p></blockquote>
<a name="4">

     <h3>EXAMPLES</h3>

</a>
<blockquote>
<p>
<!-- .PD 0 -->
<!-- .TP -->
<table cellpadding="0" cellspacing="0">
<tbody><tr valign="top"><td colspan="2">
<!-- .B % msgqueue -h -->
<b>% msgqueue -h</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
List the the command line options.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B % msgqueue -c -k 1 -m 660  -->
<b>% msgqueue -c -k 1 -m 660</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Create a queue to be identified with key = 1 with an access mask 660.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B  % ps -ef | msgqueue -k 1 -send -type 123 -->
<b>% ps -ef | msgqueue -k 1 -send -type 123</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Pipe the output of the command into a message and send it without
locking to the specified queue.  Note that this may fail if the output
is larger than the maximum message size.
<p>
<!-- .TP -->
</p></td></tr>
<tr valign="top"><td colspan="2">
<!-- .B  % msgqueue -k 1 -get -type 123 -match -lock -->
<b>% msgqueue -k 1 -get -type 123 -match -lock</b> </td></tr><tr valign="top"><td width="6%">&nbsp;</td><td>
Read from the message queue the next message having type 123
and write it to stdout.  Wait for that next message if
one is not already present.
<p>
<!-- .SH SEE ALSO -->
</p></td></tr>
</tbody></table></p></blockquote>
<a name="5">

     <h3>SEE ALSO</h3>

</a>
<blockquote>
<p>
<a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/ipcs.8">ipcs(8)</a>, <a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/ipcrm.8">ipcrm(8)</a>, <a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/msgrcv.2">msgrcv(2)</a>, <a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/msgsnd.2">msgsnd(2)</a>, <a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/msgctl.2">msgctl(2)</a>
</p><p>
<!-- .br -->
On Solaris ipcs and ipcrm are found in <a href="http://saf.bio.caltech.edu/cgi-bin/caltech/manpages.pl/section.1">section(1)</a>.
</p><p>
<!-- .SH LICENSE -->
</p></blockquote>
<a name="6">

     <h3>LICENSE</h3>

</a>
<blockquote>
<p>
GNU General Public License 2
</p><p>
<!-- .SH COPYRIGHT -->
</p></blockquote>
<a name="7">

     <h3>COPYRIGHT</h3>

</a>
<blockquote>
<p>
Copyright (C) 2002, 2006 David Mathog and Caltech.
</p><p>
<!-- .SH ACKNOWLEDGEMENTS -->
</p></blockquote>
<a name="8">

     <h3>ACKNOWLEDGEMENTS</h3>

</a>
<blockquote>
<p>
none
</p><p>
<!-- .SH AUTHORS -->
</p></blockquote>
<a name="9">

     <h3>AUTHORS</h3>

</a>
<blockquote>
<p>
David Mathog, Biology Division, Caltech &lt;<a href="mailto:mathog@caltech.edu">mathog@caltech.edu</a>&gt;
</p></blockquote>
<p></p><hr>
<table width="100%"><tbody><tr> <td width="33%"><i>drm_tools</i></td> <td align="center" width="33%">msgqueue (1)</td> <td align="right" width="33%"><i>1.0.2 OCT 23 2006</i></td> </tr></tbody></table><font size="-1">Generated by <a href="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.07</a> from /usr/common/man/man1/msgqueue.1 using man macros.</font>

</body></html>
